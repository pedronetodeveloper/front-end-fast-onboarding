<div class="container-fluid document-status-page">
  <!-- Header Section -->
  <header class="page-header text-center">
    <h1 class="title">{{ 'acompanhamento.title' | translate }}</h1>
    <p class="subtitle">Acompanhe o status dos seus documentos enviados e gerencie pendências de forma rápida e fácil.</p>
  </header>

  <!-- Summary KPI Card Section -->
  <section class="summary-kpi-section row justify-content-center">
    <div class="col-lg-8 col-md-10">
      <div class="summary-kpi-card">
        <div class="kpi-item">
          <i class="fas fa-file-alt kpi-icon"></i>
          <div class="kpi-content">
            <p class="kpi-label">Total de Documentos</p>
            <h3 class="kpi-value">{{ documentos.length }}</h3>
          </div>
        </div>
        <div class="kpi-item">
          <i class="fas fa-check-circle kpi-icon"></i>
          <div class="kpi-content">
            <p class="kpi-label">Documentos Válidos</p>
            <h3 class="kpi-value">{{ getStatusCount('valido') }}</h3>
          </div>
        </div>
        <div class="kpi-item">
          <i class="fas fa-exclamation-triangle kpi-icon"></i>
          <div class="kpi-content">
            <p class="kpi-label">Pendentes/Inválidos</p>
            <h3 class="kpi-value">{{ getStatusCount('pendente') + getStatusCount('invalido') }}</h3>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Document Cards Section -->
  <section class="document-cards-section">
    <div class="row" *ngIf="documentos.length > 0; else noDocuments">
      <div class="col-lg-4 col-md-6 mb-4" *ngFor="let doc of documentos">
        <div class="document-card h-100">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <i class="fas fa-file-alt document-icon me-3"></i>
              <h5 class="card-title mb-0">{{ doc.nome }}</h5>
            </div>
            <div class="status-badge" [ngClass]="{
              'status-valido': doc.status === 'valido',
              'status-invalido': doc.status === 'invalido',
              'status-pendente': doc.status === 'pendente'
            }">
              {{ doc.status | uppercase }}
            </div>
            <p class="card-text mt-3">Verifique os detalhes e o status do seu documento.</p>
          </div>
          <div class="card-footer">
            <button class="btn btn-primary w-100">Ver Detalhes</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- No Documents Template -->
  <ng-template #noDocuments>
    <div class="text-center no-documents-message">
      <i class="fas fa-folder-open empty-icon"></i>
      <h3>Nenhum documento enviado ainda.</h3>
      <p>Comece enviando seus documentos para iniciar o processo de onboarding.</p>
      <input type="file" #fileInput style="display: none;"  multiple>
      <button class="btn btn-primary btn-lg mt-3" (click)="onAttachDocuments()" *ngIf="!isCurrentUserHR">Enviar Documentos</button>
    </div>
  </ng-template>

  <!-- Upload Document Modal -->
  <app-upload-document-modal 
    [(visible)]="displayUploadModal" 
    (documentUploaded)="onDocumentUploaded($event)">
  </app-upload-document-modal>

</div>